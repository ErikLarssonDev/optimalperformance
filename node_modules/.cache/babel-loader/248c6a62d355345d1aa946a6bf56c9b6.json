{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/eriklarsson/Documents/GitHub/optimalperformance/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/Users/eriklarsson/Documents/GitHub/optimalperformance/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  margin-top: 2rem;\\n  .colors {\\n    display: grid;\\n    grid-template-columns: 125px 1fr;\\n    align-items: center;\\n    margin-bottom: 1rem;\\n    span {\\n      text-transform: capitalize;\\n      font-weight: 700;\\n    }\\n    div {\\n      display: flex;\\n    }\\n  }\\n  .color-btn {\\n    display: inline-block;\\n    width: 1.5rem;\\n    height: 1.5rem;\\n    border-radius: 50%;\\n    background: #222;\\n    margin-right: 0.5rem;\\n    border: none;\\n    cursor: pointer;\\n    opacity: 0.5;\\n    display: flex;\\n    align-items: center;\\n    justify-content: center;\\n    svg {\\n      font-size: 0.75rem;\\n      color: var(--clr-white);\\n    }\\n  }\\n  .active {\\n    opacity: 1;\\n  }\\n  .btn-container {\\n    margin-top: 2rem;\\n  }\\n\\n  .btn {\\n    margin-top: 1rem;\\n    width: 140px;\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import styled from'styled-components';import{Link}from'react-router-dom';import{FaCheck}from'react-icons/fa';import{useCartContext}from'../context/cart_context';import AmountButtons from'./AmountButtons';var AddToCart=function AddToCart(_ref){var product=_ref.product;var _useCartContext=useCartContext(),addToCart=_useCartContext.addToCart;var id=product.id,stock=product.stock,colors=product.colors;var _useState=useState(colors[0]),_useState2=_slicedToArray(_useState,2),mainColor=_useState2[0],setMainColor=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),amount=_useState4[0],setAmount=_useState4[1];var increase=function increase(){setAmount(function(oldAmount){var tempAmount=oldAmount+1;if(tempAmount>stock){tempAmount=stock;}return tempAmount;});};var decrease=function decrease(){setAmount(function(oldAmount){var tempAmount=oldAmount-1;if(tempAmount<1){tempAmount=1;}return tempAmount;});};return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"colors\",children:[/*#__PURE__*/_jsx(\"span\",{children:\" colors : \"}),/*#__PURE__*/_jsx(\"div\",{children:colors.map(function(color,index){return/*#__PURE__*/_jsx(\"button\",{style:{background:color},className:\"\".concat(mainColor===color?'color-btn active':'color-btn'),onClick:function onClick(){return setMainColor(color);},children:mainColor===color?/*#__PURE__*/_jsx(FaCheck,{}):null},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-container\",children:[/*#__PURE__*/_jsx(AmountButtons,{amount:amount,increase:increase,decrease:decrease}),/*#__PURE__*/_jsx(Link,{to:\"/cart\",className:\"btn\",onClick:function onClick(){return addToCart(id,mainColor,amount,product);},children:\"add to cart\"})]})]});};var Wrapper=styled.section(_templateObject());export default AddToCart;","map":{"version":3,"sources":["/Users/eriklarsson/Documents/GitHub/optimalperformance/src/components/AddToCart.js"],"names":["React","useState","styled","Link","FaCheck","useCartContext","AmountButtons","AddToCart","product","addToCart","id","stock","colors","mainColor","setMainColor","amount","setAmount","increase","oldAmount","tempAmount","decrease","map","color","index","background","Wrapper","section"],"mappings":"g2CAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,cAAT,KAA+B,yBAA/B,CACA,MAAOC,CAAAA,aAAP,KAA0B,iBAA1B,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAAiB,IAAdC,CAAAA,OAAc,MAAdA,OAAc,qBACXH,cAAc,EADH,CACzBI,SADyB,iBACzBA,SADyB,IAEzBC,CAAAA,EAFyB,CAEHF,OAFG,CAEzBE,EAFyB,CAErBC,KAFqB,CAEHH,OAFG,CAErBG,KAFqB,CAEdC,MAFc,CAEHJ,OAFG,CAEdI,MAFc,eAICX,QAAQ,CAACW,MAAM,CAAC,CAAD,CAAP,CAJT,wCAI1BC,SAJ0B,eAIfC,YAJe,8BAKLb,QAAQ,CAAC,CAAD,CALH,yCAK1Bc,MAL0B,eAKlBC,SALkB,eAOjC,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBD,SAAS,CAAC,SAACE,SAAD,CAAe,CACvB,GAAIC,CAAAA,UAAU,CAAGD,SAAS,CAAG,CAA7B,CACA,GAAIC,UAAU,CAAGR,KAAjB,CAAwB,CACtBQ,UAAU,CAAGR,KAAb,CACD,CACD,MAAOQ,CAAAA,UAAP,CACD,CANQ,CAAT,CAOD,CARD,CASA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrBJ,SAAS,CAAC,SAACE,SAAD,CAAe,CACvB,GAAIC,CAAAA,UAAU,CAAGD,SAAS,CAAG,CAA7B,CACA,GAAIC,UAAU,CAAG,CAAjB,CAAoB,CAClBA,UAAU,CAAG,CAAb,CACD,CACD,MAAOA,CAAAA,UAAP,CACD,CANQ,CAAT,CAOD,CARD,CAUA,mBACE,MAAC,OAAD,yBACE,aAAK,SAAS,CAAC,QAAf,wBACE,oCADF,cAEE,qBACGP,MAAM,CAACS,GAAP,CAAW,SAACC,KAAD,CAAQC,KAAR,CAAkB,CAC5B,mBACE,eAEE,KAAK,CAAE,CAAEC,UAAU,CAAEF,KAAd,CAFT,CAGE,SAAS,WACPT,SAAS,GAAKS,KAAd,CAAsB,kBAAtB,CAA2C,WADpC,CAHX,CAME,OAAO,CAAE,yBAAMR,CAAAA,YAAY,CAACQ,KAAD,CAAlB,EANX,UAQGT,SAAS,GAAKS,KAAd,cAAsB,KAAC,OAAD,IAAtB,CAAoC,IARvC,EACOC,KADP,CADF,CAYD,CAbA,CADH,EAFF,GADF,cAoBE,aAAK,SAAS,CAAC,eAAf,wBACE,KAAC,aAAD,EACE,MAAM,CAAER,MADV,CAEE,QAAQ,CAAEE,QAFZ,CAGE,QAAQ,CAAEG,QAHZ,EADF,cAME,KAAC,IAAD,EACE,EAAE,CAAC,OADL,CAEE,SAAS,CAAC,KAFZ,CAGE,OAAO,CAAE,yBAAMX,CAAAA,SAAS,CAACC,EAAD,CAAKG,SAAL,CAAgBE,MAAhB,CAAwBP,OAAxB,CAAf,EAHX,yBANF,GApBF,GADF,CAqCD,CA/DD,CAiEA,GAAMiB,CAAAA,OAAO,CAAGvB,MAAM,CAACwB,OAAV,mBAAb,CA6CA,cAAenB,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\nimport { FaCheck } from 'react-icons/fa'\nimport { useCartContext } from '../context/cart_context'\nimport AmountButtons from './AmountButtons'\n\nconst AddToCart = ({ product }) => {\n  const { addToCart } = useCartContext()\n  const { id, stock, colors } = product\n\n  const [mainColor, setMainColor] = useState(colors[0])\n  const [amount, setAmount] = useState(1)\n\n  const increase = () => {\n    setAmount((oldAmount) => {\n      let tempAmount = oldAmount + 1\n      if (tempAmount > stock) {\n        tempAmount = stock\n      }\n      return tempAmount\n    })\n  }\n  const decrease = () => {\n    setAmount((oldAmount) => {\n      let tempAmount = oldAmount - 1\n      if (tempAmount < 1) {\n        tempAmount = 1\n      }\n      return tempAmount\n    })\n  }\n\n  return (\n    <Wrapper>\n      <div className='colors'>\n        <span> colors : </span>\n        <div>\n          {colors.map((color, index) => {\n            return (\n              <button\n                key={index}\n                style={{ background: color }}\n                className={`${\n                  mainColor === color ? 'color-btn active' : 'color-btn'\n                }`}\n                onClick={() => setMainColor(color)}\n              >\n                {mainColor === color ? <FaCheck /> : null}\n              </button>\n            )\n          })}\n        </div>\n      </div>\n      <div className='btn-container'>\n        <AmountButtons\n          amount={amount}\n          increase={increase}\n          decrease={decrease}\n        />\n        <Link\n          to='/cart'\n          className='btn'\n          onClick={() => addToCart(id, mainColor, amount, product)}\n        >\n          add to cart\n        </Link>\n      </div>\n    </Wrapper>\n  )\n}\n\nconst Wrapper = styled.section`\n  margin-top: 2rem;\n  .colors {\n    display: grid;\n    grid-template-columns: 125px 1fr;\n    align-items: center;\n    margin-bottom: 1rem;\n    span {\n      text-transform: capitalize;\n      font-weight: 700;\n    }\n    div {\n      display: flex;\n    }\n  }\n  .color-btn {\n    display: inline-block;\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 50%;\n    background: #222;\n    margin-right: 0.5rem;\n    border: none;\n    cursor: pointer;\n    opacity: 0.5;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    svg {\n      font-size: 0.75rem;\n      color: var(--clr-white);\n    }\n  }\n  .active {\n    opacity: 1;\n  }\n  .btn-container {\n    margin-top: 2rem;\n  }\n\n  .btn {\n    margin-top: 1rem;\n    width: 140px;\n  }\n`\nexport default AddToCart\n"]},"metadata":{},"sourceType":"module"}