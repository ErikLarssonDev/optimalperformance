{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/eriklarsson/Desktop/optimal_performance(eng)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  .product-center {\\n    display: grid;\\n    gap: 4rem;\\n    margin-top: 2rem;\\n  }\\n  .price {\\n    color: var(--clr-primary-5);\\n  }\\n  .desc {\\n    line-height: 2;\\n    max-width: 45em;\\n  }\\n  .info {\\n    text-transform: capitalize;\\n    width: 300px;\\n    display: grid;\\n    grid-template-columns: 125px 1fr;\\n    span {\\n      font-weight: 700;\\n    }\\n  }\\n\\n  @media (min-width: 992px) {\\n    .product-center {\\n      grid-template-columns: 1fr 1fr;\\n      align-items: center;\\n    }\\n    .price {\\n      font-size: 1.25rem;\\n    }\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useEffect}from'react';import{useParams,useHistory}from'react-router-dom';import{useProductsContext}from'../context/products_context';import{single_product_url as url}from'../utils/constants';import{formatPrice}from'../utils/helpers';import{Loading,Error,ProductImages,AddToCart,Stars,PageHero}from'../components';import styled from'styled-components';import{Link}from'react-router-dom';var SingleProductPage=function SingleProductPage(){var _useParams=useParams(),id=_useParams.id;var history=useHistory();var _useProductsContext=useProductsContext(),loading=_useProductsContext.single_product_loading,error=_useProductsContext.single_product_error,product=_useProductsContext.single_product,fetchSingleProduct=_useProductsContext.fetchSingleProduct;useEffect(function(){fetchSingleProduct(\"\".concat(url).concat(id));// eslint-disable-next-line\n},[id]);useEffect(function(){if(error){setTimeout(function(){history.push('/');},3000);}// eslint-disable-next-line\n},[error]);if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(error){return/*#__PURE__*/_jsx(Error,{});}var name=product.name,price=product.price,description=product.description,stock=product.stock,stars=product.stars,reviews=product.reviews,sku=product.id,company=product.company,images=product.images;return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsx(PageHero,{title:name,product:true}),/*#__PURE__*/_jsxs(\"div\",{className:\"section section-center page\",children:[/*#__PURE__*/_jsx(Link,{to:\"/products\",className:\"btn\",children:\"back to products\"}),/*#__PURE__*/_jsxs(\"div\",{className:\" product-center\",children:[/*#__PURE__*/_jsx(ProductImages,{images:images}),/*#__PURE__*/_jsxs(\"section\",{className:\"content\",children:[/*#__PURE__*/_jsx(\"h2\",{children:name}),/*#__PURE__*/_jsx(Stars,{stars:stars,reviews:reviews}),/*#__PURE__*/_jsxs(\"h5\",{className:\"price\",children:[\" \",formatPrice(price)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"desc\",children:[\" \",description]}),/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Available : \"}),stock>0?'In stock':'out of stock']}),/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"SKU : \"}),sku]}),/*#__PURE__*/_jsxs(\"p\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Brand : \"}),company]}),/*#__PURE__*/_jsx(\"hr\",{}),stock>0&&/*#__PURE__*/_jsx(AddToCart,{product:product})]})]})]})]});};var Wrapper=styled.main(_templateObject());export default SingleProductPage;","map":{"version":3,"sources":["/Users/eriklarsson/Desktop/optimal_performance(eng)/src/pages/SingleProductPage.js"],"names":["React","useEffect","useParams","useHistory","useProductsContext","single_product_url","url","formatPrice","Loading","Error","ProductImages","AddToCart","Stars","PageHero","styled","Link","SingleProductPage","id","history","loading","single_product_loading","error","single_product_error","product","single_product","fetchSingleProduct","setTimeout","push","name","price","description","stock","stars","reviews","sku","company","images","Wrapper","main"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { useParams, useHistory } from 'react-router-dom'\nimport { useProductsContext } from '../context/products_context'\nimport { single_product_url as url } from '../utils/constants'\nimport { formatPrice } from '../utils/helpers'\nimport {\n  Loading,\n  Error,\n  ProductImages,\n  AddToCart,\n  Stars,\n  PageHero,\n} from '../components'\nimport styled from 'styled-components'\nimport { Link } from 'react-router-dom'\n\nconst SingleProductPage = () => {\n  const { id } = useParams()\n  const history = useHistory()\n  const {\n    single_product_loading: loading,\n    single_product_error: error,\n    single_product: product,\n    fetchSingleProduct,\n  } = useProductsContext()\n\n  useEffect(() => {\n    fetchSingleProduct(`${url}${id}`)\n    // eslint-disable-next-line\n  }, [id])\n\n  useEffect(() => {\n    if (error) {\n      setTimeout(() => {\n        history.push('/')\n      }, 3000)\n    }\n    // eslint-disable-next-line\n  }, [error])\n\n  if (loading) {\n    return <Loading />\n  }\n  if (error) {\n    return <Error />\n  }\n  const {\n    name,\n    price,\n    description,\n    stock,\n    stars,\n    reviews,\n    id: sku,\n    company,\n    images,\n  } = product\n  return (\n    <Wrapper>\n      <PageHero title={name} product />\n      <div className='section section-center page'>\n        <Link to='/products' className='btn'>\n          back to products\n        </Link>\n        <div className=' product-center'>\n          <ProductImages images={images} />\n          <section className='content'>\n            <h2>{name}</h2>\n            <Stars stars={stars} reviews={reviews} />\n            <h5 className='price'> {formatPrice(price)}</h5>\n            <p className='desc'> {description}</p>\n            <p className='info'>\n              <span>Available : </span>\n              {stock > 0 ? 'In stock' : 'out of stock'}\n            </p>\n            <p className='info'>\n              <span>SKU : </span>\n              {sku}\n            </p>\n            <p className='info'>\n              <span>Brand : </span>\n              {company}\n            </p>\n            <hr />\n            {stock > 0 && <AddToCart product={product} />}\n          </section>\n        </div>\n      </div>\n    </Wrapper>\n  )\n}\n\nconst Wrapper = styled.main`\n  .product-center {\n    display: grid;\n    gap: 4rem;\n    margin-top: 2rem;\n  }\n  .price {\n    color: var(--clr-primary-5);\n  }\n  .desc {\n    line-height: 2;\n    max-width: 45em;\n  }\n  .info {\n    text-transform: capitalize;\n    width: 300px;\n    display: grid;\n    grid-template-columns: 125px 1fr;\n    span {\n      font-weight: 700;\n    }\n  }\n\n  @media (min-width: 992px) {\n    .product-center {\n      grid-template-columns: 1fr 1fr;\n      align-items: center;\n    }\n    .price {\n      font-size: 1.25rem;\n    }\n  }\n`\n\nexport default SingleProductPage\n"]},"metadata":{},"sourceType":"module"}