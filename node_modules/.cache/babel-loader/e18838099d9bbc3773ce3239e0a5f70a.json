{"ast":null,"code":"import _objectSpread from\"/Users/eriklarsson/Desktop/optimal_performance(eng)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"/Users/eriklarsson/Desktop/optimal_performance(eng)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/eriklarsson/Desktop/optimal_performance(eng)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/eriklarsson/Desktop/optimal_performance(eng)/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import axios from'axios';import React,{useContext,useEffect,useReducer}from'react';import reducer from'../reducers/products_reducer';import{products_url as url}from'../utils/constants';import{SIDEBAR_OPEN,SIDEBAR_CLOSE,GET_PRODUCTS_BEGIN,GET_PRODUCTS_SUCCESS,GET_PRODUCTS_ERROR,GET_SINGLE_PRODUCT_BEGIN,GET_SINGLE_PRODUCT_SUCCESS,GET_SINGLE_PRODUCT_ERROR}from'../actions';var initialState={isSidebarOpen:false,products_loading:false,products_error:false,products:[],featured_products:[],single_product_loading:false,single_product_error:false,single_product:{}};var ProductsContext=/*#__PURE__*/React.createContext();export var ProductsProvider=function ProductsProvider(_ref){var children=_ref.children;var _useReducer=useReducer(reducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];var openSidebar=function openSidebar(){dispatch({type:SIDEBAR_OPEN});};var closeSidebar=function closeSidebar(){dispatch({type:SIDEBAR_CLOSE});};var fetchProducts=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(url){var response,products;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:dispatch({type:GET_PRODUCTS_BEGIN});_context.prev=1;_context.next=4;return axios.get(url);case 4:response=_context.sent;products=response.data;dispatch({type:GET_PRODUCTS_SUCCESS,payload:products});_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);dispatch({type:GET_PRODUCTS_ERROR});case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return function fetchProducts(_x){return _ref2.apply(this,arguments);};}();var fetchSingleProduct=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(url){var response,singleProduct;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:dispatch({type:GET_SINGLE_PRODUCT_BEGIN});_context2.prev=1;_context2.next=4;return axios.get(url);case 4:response=_context2.sent;singleProduct=response.data;dispatch({type:GET_SINGLE_PRODUCT_SUCCESS,payload:singleProduct});_context2.next=12;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);dispatch({type:GET_SINGLE_PRODUCT_ERROR});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[1,9]]);}));return function fetchSingleProduct(_x2){return _ref3.apply(this,arguments);};}();useEffect(function(){fetchProducts(url);},[]);return/*#__PURE__*/_jsx(ProductsContext.Provider,{value:_objectSpread(_objectSpread({},state),{},{openSidebar:openSidebar,closeSidebar:closeSidebar,fetchSingleProduct:fetchSingleProduct}),children:children});};// make sure use\nexport var useProductsContext=function useProductsContext(){return useContext(ProductsContext);};","map":{"version":3,"sources":["/Users/eriklarsson/Desktop/optimal_performance(eng)/src/context/products_context.js"],"names":["axios","React","useContext","useEffect","useReducer","reducer","products_url","url","SIDEBAR_OPEN","SIDEBAR_CLOSE","GET_PRODUCTS_BEGIN","GET_PRODUCTS_SUCCESS","GET_PRODUCTS_ERROR","GET_SINGLE_PRODUCT_BEGIN","GET_SINGLE_PRODUCT_SUCCESS","GET_SINGLE_PRODUCT_ERROR","initialState","isSidebarOpen","products_loading","products_error","products","featured_products","single_product_loading","single_product_error","single_product","ProductsContext","createContext","ProductsProvider","children","state","dispatch","openSidebar","type","closeSidebar","fetchProducts","get","response","data","payload","fetchSingleProduct","singleProduct","useProductsContext"],"mappings":"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","sourcesContent":["import axios from 'axios'\nimport React, { useContext, useEffect, useReducer } from 'react'\nimport reducer from '../reducers/products_reducer'\nimport { products_url as url } from '../utils/constants'\nimport {\n  SIDEBAR_OPEN,\n  SIDEBAR_CLOSE,\n  GET_PRODUCTS_BEGIN,\n  GET_PRODUCTS_SUCCESS,\n  GET_PRODUCTS_ERROR,\n  GET_SINGLE_PRODUCT_BEGIN,\n  GET_SINGLE_PRODUCT_SUCCESS,\n  GET_SINGLE_PRODUCT_ERROR,\n} from '../actions'\n\nconst initialState = {\n  isSidebarOpen: false,\n  products_loading: false,\n  products_error: false,\n  products: [],\n  featured_products: [],\n  single_product_loading: false,\n  single_product_error: false,\n  single_product: {},\n}\n\nconst ProductsContext = React.createContext()\n\nexport const ProductsProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState)\n\n  const openSidebar = () => {\n    dispatch({ type: SIDEBAR_OPEN })\n  }\n  const closeSidebar = () => {\n    dispatch({ type: SIDEBAR_CLOSE })\n  }\n\n  const fetchProducts = async (url) => {\n    dispatch({ type: GET_PRODUCTS_BEGIN })\n    try {\n      const response = await axios.get(url)\n      const products = response.data\n      dispatch({ type: GET_PRODUCTS_SUCCESS, payload: products })\n    } catch (error) {\n      dispatch({ type: GET_PRODUCTS_ERROR })\n    }\n  }\n\n  const fetchSingleProduct = async (url) => {\n    dispatch({ type: GET_SINGLE_PRODUCT_BEGIN })\n    try {\n      const response = await axios.get(url)\n      const singleProduct = response.data\n      dispatch({ type: GET_SINGLE_PRODUCT_SUCCESS, payload: singleProduct })\n    } catch (error) {\n      dispatch({ type: GET_SINGLE_PRODUCT_ERROR })\n    }\n  }\n\n  useEffect(() => {\n    fetchProducts(url)\n  }, [])\n\n  return (\n    <ProductsContext.Provider\n      value={{ ...state, openSidebar, closeSidebar, fetchSingleProduct }}\n    >\n      {children}\n    </ProductsContext.Provider>\n  )\n}\n// make sure use\nexport const useProductsContext = () => {\n  return useContext(ProductsContext)\n}\n"]},"metadata":{},"sourceType":"module"}